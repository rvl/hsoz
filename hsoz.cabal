name:                hsoz
version:             0.0.0.4
synopsis:            Iron, Hawk, Oz: Web auth protocols
description:
  hsoz is a Haskell implementation of the Iron, Hawk, and Oz web
  authentication protocols. These protocols originate from the OAuth2
  standardisation process, but are designed to be simpler to implement
  for the common case of web applications.
  .
  The top-level "Network.Iron", "Network.Hawk", "Network.Oz" modules
  contain further instructions on their usage. There are also some
  example server and client programs within the
  <https://github.com/rvl/hsoz project git repository>.

homepage:            https://github.com/rvl/hsoz
license:             BSD3
license-file:        LICENSE
author:              Rodney Lorrimar
maintainer:          Rodney Lorrimar <dev@rodney.id.au>
copyright:           2016 Rodney Lorrimar
category:            Web, Authentication
build-type:          Simple
extra-doc-files:     images/*.png
extra-source-files:  README.md
cabal-version:       >=1.10
stability:           experimental
bug-reports:         https://github.com/rvl/hsoz/issues
Tested-With:         GHC == 8.0.1

flag example
  description: Build the example applications
  default: True

library
  hs-source-dirs:      src
  exposed-modules:     Network.Iron
                     , Network.Hawk
                     , Network.Hawk.Client
                     , Network.Hawk.Middleware
                     , Network.Hawk.Server
                     , Network.Hawk.Server.Nonce
                     , Network.Hawk.Types
                     , Network.Hawk.URI
                     , Network.Hawk.Internal
                     , Network.Hawk.Internal.Client
                     , Network.Hawk.Internal.Client.HeaderParser
                     , Network.Hawk.Internal.Client.Types
                     , Network.Hawk.Internal.Server
                     , Network.Hawk.Internal.Server.Header
                     , Network.Hawk.Internal.Server.Types
                     , Network.Hawk.Internal.Types
                     , Network.Oz
                     , Network.Oz.Application
                     , Network.Oz.Client
                     , Network.Oz.Server
                     , Network.Oz.Ticket
                     , Network.Oz.Types
  other-modules:       Network.Iron.Util
                     , Network.Hawk.Algo
                     , Network.Hawk.Util
                     , Network.Hawk.Internal.JSON
                     , Network.Oz.JSON
                     , Network.Oz.Internal.Types
                     , Network.Oz.Boom
  build-depends:       base >= 4.7 && < 5
                     , aeson
                     , attoparsec
                     , base16-bytestring
                     , base64-bytestring
                     , byteable
                     , bytestring
                     , case-insensitive
                     , containers
                     , cryptonite
                     , data-default
                     , either
                     , errors
                     , exceptions
                     , hashable
                     , http-client >= 0.4 && < 0.5
                     , http-types
                     , lens
                     , memory
                     , mtl
                     , network
                     , scientific
                     , scotty
                     , securemem
                     , text
                     , time
                     , transformers
                     , unordered-containers
                     , uri-bytestring
                     , vault
                     , wai
                     , warp
  default-language:    Haskell2010
  default-extensions:  OverloadedStrings

executable hsoz-example
  if flag(example)
    buildable: True
  else
    buildable: False

  hs-source-dirs:      example
  main-is:             Main.hs
  other-modules:       Common
                     , HawkServer
                     , HawkClient
                     , BewitServer
                     , BewitClient
                     , OzServer
                     , OzClient
  ghc-options:         -threaded -rtsopts -with-rtsopts=-N
  build-depends:       hsoz
                     , aeson
                     , base
                     , bytestring
                     , case-insensitive
                     , containers
                     , cryptonite
                     , data-default
                     , http-client >= 0.4 && < 0.5
                     , http-conduit >= 2.1 && < 2.2
                     , http-types
                     , lens
                     , lucid
                     , scotty
                     , text
                     , transformers
                     , uri-bytestring
                     , wai
                     , warp
  default-language:    Haskell2010
  default-extensions:  OverloadedStrings

executable iron
  if flag(example)
    buildable: True
  else
    buildable: False

  hs-source-dirs:      example
  main-is:             Iron.hs
  ghc-options:         -threaded -rtsopts -with-rtsopts=-N
  build-depends:       hsoz
                     , aeson
                     , base
                     , bytestring
                     , containers
                     , cryptonite
                     , data-default
                     , optparse-applicative
                     , text
                     , time
  default-language:    Haskell2010
  default-extensions:  OverloadedStrings

test-suite hsoz-test
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  main-is:             Main.hs
  other-modules:       Network.Iron.Tests
                     , Network.Hawk.Tests
                     , Network.Oz.Tests
  build-depends:       base
                     , hsoz
                     , QuickCheck
                     , HUnit
                     , tasty
                     , tasty-hunit
                     , tasty-quickcheck
                     , tasty-golden
                     , text
                     , bytestring
                     , aeson
                     , time
                     , data-default
                     , wai
                     , http-client
                     , http-types
  ghc-options:         -threaded -rtsopts -with-rtsopts=-N
  default-language:    Haskell2010
  default-extensions:  OverloadedStrings

source-repository head
  type:     git
  location: https://github.com/rvl/hsoz
